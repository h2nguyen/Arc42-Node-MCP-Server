/**
 * Russian Templates
 *
 * Contains all arc42 section templates in Russian.
 * Based on the official arc42 Russian template.
 *
 * @module templates/locales/ru/templates
 */

import type { Arc42Section } from '../../../types.js';

/**
 * Get the Russian template for a specific section
 */
export function getTemplate(section: Arc42Section): string {
  const templates: Record<Arc42Section, () => string> = {
    '01_introduction_and_goals': getIntroductionAndGoalsTemplate,
    '02_architecture_constraints': getArchitectureConstraintsTemplate,
    '03_context_and_scope': getContextAndScopeTemplate,
    '04_solution_strategy': getSolutionStrategyTemplate,
    '05_building_block_view': getBuildingBlockViewTemplate,
    '06_runtime_view': getRuntimeViewTemplate,
    '07_deployment_view': getDeploymentViewTemplate,
    '08_concepts': getConceptsTemplate,
    '09_architecture_decisions': getArchitectureDecisionsTemplate,
    '10_quality_requirements': getQualityRequirementsTemplate,
    '11_technical_risks': getTechnicalRisksTemplate,
    '12_glossary': getGlossaryTemplate
  };

  return templates[section]();
}

function getIntroductionAndGoalsTemplate(): string {
  return `# 1. Введение и цели

## Обзор требований

**Цель**: Описать основные требования и движущие силы, которые должны учитывать архитекторы и команда разработки.

### Ключевые требования

| ID | Требование | Приоритет |
|----|------------|-----------|
| REQ-1 | [Краткое описание] | Высокий |
| REQ-2 | [Краткое описание] | Средний |

### Функции

- Функция 1: [Описание]
- Функция 2: [Описание]

## Цели качества

**Цель**: Определить топ-3 или топ-5 целей качества, наиболее важных для заинтересованных сторон.

| Приоритет | Цель качества | Мотивация |
|-----------|---------------|-----------|
| 1 | [напр., Производительность] | [Почему это критично] |
| 2 | [напр., Безопасность] | [Почему это критично] |
| 3 | [напр., Сопровождаемость] | [Почему это критично] |

## Заинтересованные стороны

| Роль/Имя | Контакт | Ожидания |
|----------|---------|----------|
| Владелец продукта | [Имя/Email] | [Ожидания от архитектуры] |
| Команда разработки | [Название команды] | [Что им нужно знать] |
| Операции | [Команда/Человек] | [Вопросы развертывания и эксплуатации] |

## Критерии успеха

- [ ] Критерий 1
- [ ] Критерий 2
- [ ] Критерий 3
`;
}

function getArchitectureConstraintsTemplate(): string {
  return `# 2. Ограничения архитектуры

## Технические ограничения

**Аппаратные ограничения**

| Ограничение | Обоснование |
|-------------|-------------|
| [напр., Облачная платформа] | [Почему существует это ограничение] |

**Программные/технологические ограничения**

| Ограничение | Обоснование |
|-------------|-------------|
| [напр., Требуется Java 17+] | [Причина ограничения] |
| [напр., Требуется PostgreSQL] | [Почему это было выбрано] |

## Организационные ограничения

| Ограничение | Обоснование |
|-------------|-------------|
| [напр., Структура команды] | [Как это влияет на архитектуру] |
| [напр., Agile методология] | [Влияние на процесс разработки] |

## Соглашения

**Архитектурные и проектные соглашения**

- [напр., Паттерн микросервисной архитектуры]
- [напр., RESTful API дизайн]
- [напр., Domain-Driven Design]

**Соглашения по кодированию**

- Стиль кода: [Ссылка на руководство по стилю]
- Документация: [Стандарты документации]
- Тестирование: [Требования к тестированию]
`;
}

function getContextAndScopeTemplate(): string {
  return `# 3. Контекст и область

## Бизнес-контекст

**Цель**: Показать бизнес-окружение системы и основные внешние зависимости.

### Диаграмма контекста

\`\`\`
[Создайте диаграмму, показывающую вашу систему и внешние системы/пользователей]
\`\`\`

### Внешние интерфейсы

| Внешняя сущность | Интерфейс | Назначение |
|------------------|-----------|------------|
| [Внешняя система 1] | [API/Протокол] | [Какие данные/функции обмениваются] |
| [Тип пользователя 1] | [UI/API] | [Как пользователи взаимодействуют] |

## Технический контекст

**Цель**: Показать технические интерфейсы и каналы между системой и окружением.

### Технические интерфейсы

| Интерфейс | Технология | Протокол | Формат |
|-----------|------------|----------|--------|
| [API 1] | [REST API] | [HTTPS] | [JSON] |
| [База данных] | [PostgreSQL] | [TCP/IP] | [SQL] |

### Маппинг: Бизнес на Технический

| Бизнес-контекст | Техническая реализация |
|-----------------|------------------------|
| [Пользовательский интерфейс] | [React SPA через HTTPS] |
| [Внешняя система A] | [REST API через HTTPS] |
`;
}

function getSolutionStrategyTemplate(): string {
  return `# 4. Стратегия решения

**Цель**: Обобщить фундаментальные решения и стратегии, формирующие архитектуру системы.

## Ключевые решения

### Архитектурные паттерны

| Паттерн | Мотивация | Последствия |
|---------|-----------|-------------|
| [напр., Микросервисы] | [Почему выбран этот паттерн] | [Преимущества и компромиссы] |

### Технологические решения

| Компонент | Технология | Причина |
|-----------|------------|---------|
| Бэкенд | [напр., Node.js] | [Почему это выбрано] |
| Фронтенд | [напр., React] | [Причины] |
| База данных | [напр., PostgreSQL] | [Причины] |

## Достижение целей качества

| Цель качества | Подход к решению |
|---------------|------------------|
| [Производительность] | [Стратегия кэширования, асинхронная обработка] |
| [Безопасность] | [Аутентификация, авторизация, шифрование] |
| [Масштабируемость] | [Горизонтальное масштабирование, балансировка нагрузки] |
`;
}

function getBuildingBlockViewTemplate(): string {
  return `# 5. Представление строительных блоков

**Цель**: Статическая декомпозиция системы на строительные блоки и их связи.

## Уровень 1: Контекст системы

### Белый ящик: Общая система

**Назначение**: [Что делает система]

\`\`\`
[Диаграмма компонентов с основными строительными блоками]
\`\`\`

**Содержащиеся строительные блоки**:

| Компонент | Ответственность |
|-----------|-----------------|
| [Компонент 1] | [Что он делает] |
| [Компонент 2] | [Что он делает] |

**Важные интерфейсы**:

| Интерфейс | Описание |
|-----------|----------|
| [API 1] | [Назначение и протокол] |

## Уровень 2: Детали компонентов

### Компонент 1 (Белый ящик)

**Назначение**: [Детальное назначение]

**Интерфейсы**:
- Вход: [Что получает]
- Выход: [Что производит]

**Внутренняя структура**:

\`\`\`
[Диаграмма внутренних модулей/классов]
\`\`\`
`;
}

function getRuntimeViewTemplate(): string {
  return `# 6. Представление времени выполнения

**Цель**: Показать поведение и взаимодействие строительных блоков во время выполнения.

## Ключевые сценарии

### Сценарий 1: [Название, напр., "Вход пользователя"]

**Описание**: [Что происходит в этом сценарии]

**Диаграмма последовательности**:

\`\`\`mermaid
sequenceDiagram
    participant Пользователь
    participant Фронтенд
    participant API
    participant БазаДанных

    Пользователь->>Фронтенд: Ввод учетных данных
    Фронтенд->>API: POST /login
    API->>БазаДанных: Проверка учетных данных
    БазаДанных-->>API: Данные пользователя
    API-->>Фронтенд: JWT токен
    Фронтенд-->>Пользователь: Вход выполнен успешно
\`\`\`

**Шаги**:

1. Пользователь вводит учетные данные
2. Фронтенд отправляет запрос на вход
3. API проверяет с базой данных
4. Токен генерируется и возвращается
5. Пользователь аутентифицирован

## Поток данных

### Поток 1: [Название]

**Назначение**: [Какие данные куда текут]

**Описание**:
- Шаг 1: [Что происходит]
- Шаг 2: [Что происходит]
`;
}

function getDeploymentViewTemplate(): string {
  return `# 7. Представление развертывания

**Цель**: Описать техническую инфраструктуру и способ развертывания ПО.

## Обзор инфраструктуры

### Диаграмма развертывания

\`\`\`
[Диаграмма с серверами, контейнерами, сетями]
\`\`\`

## Среды

### Продуктивная среда

**Инфраструктура**:

| Компонент | Технология | Конфигурация |
|-----------|------------|--------------|
| [Сервер приложений] | [AWS ECS] | [Спецификации] |
| [База данных] | [RDS PostgreSQL] | [Спецификации] |
| [Кэш] | [Redis] | [Спецификации] |

### Среда разработки

[Аналогичная структура]

## Стратегия развертывания

### CI/CD Pipeline

1. **Сборка**: [Что происходит]
2. **Тест**: [Автоматизированные тесты]
3. **Развертывание**: [Процесс развертывания]

## Мониторинг и эксплуатация

### Проверки здоровья

| Компонент | Проверка | Порог |
|-----------|----------|-------|
| [API] | [/health endpoint] | [Время ответа < 1с] |
`;
}

function getConceptsTemplate(): string {
  return `# 8. Сквозные концепции

**Цель**: Общие правила и идеи решений, актуальные для нескольких частей системы.

## Модели предметной области

### Основные концепции предметной области

\`\`\`
[Диаграмма модели предметной области или диаграмма классов]
\`\`\`

**Ключевые сущности**:

| Сущность | Ответственность | Связи |
|----------|-----------------|-------|
| [Сущность 1] | [Назначение] | [Связанные сущности] |

## Безопасность

### Аутентификация

- Метод: [JWT, OAuth2 и т.д.]
- Реализация: [Как это работает]

### Авторизация

- Модель: [RBAC, ABAC и т.д.]
- Роли: [Список ролей и разрешений]

## Обработка ошибок

### Категории ошибок

| Категория | Стратегия обработки |
|-----------|---------------------|
| [Ошибки валидации] | [Вернуть 400 с деталями] |
| [Системные ошибки] | [Логировать и вернуть 500] |

## Логирование и мониторинг

### Стратегия логирования

- Уровни логов: [DEBUG, INFO, WARN, ERROR]
- Структурированное логирование: [JSON формат]
- Correlation IDs: [Для трассировки запросов]
`;
}

function getArchitectureDecisionsTemplate(): string {
  return `# 9. Архитектурные решения

**Цель**: Документировать важные, дорогостоящие, критические или рискованные архитектурные решения.

## Формат ADR

Каждое решение следует этой структуре:
- **Контекст**: Какую проблему мы решаем?
- **Решение**: Что мы решили делать
- **Последствия**: Что станет проще или сложнее в результате

## Журнал решений

### ADR-001: [Название решения]

**Дата**: [ГГГГ-ММ-ДД]
**Статус**: [Предложено | Принято | Устарело | Заменено]
**Участники принятия решения**: [Имена]

**Контекст**:

[Опишите действующие силы, технические, политические, социальные и локальные для проекта.]

**Решение**:

[Опишите нашу реакцию на эти силы. Здесь мы принимаем решение.]

**Последствия**:

Положительные:
- [Преимущество 1]
- [Преимущество 2]

Отрицательные:
- [Компромисс 1]
- [Компромисс 2]

### ADR-002: [Другое решение]

[Аналогичная структура]
`;
}

function getQualityRequirementsTemplate(): string {
  return `# 10. Требования к качеству

**Цель**: Определить требования к качеству с конкретными сценариями.

## Дерево качества

### Цели качества верхнего уровня

\`\`\`
Качество
├── Производительность
│   ├── Время отклика
│   └── Пропускная способность
├── Безопасность
│   ├── Аутентификация
│   └── Защита данных
├── Надежность
│   ├── Доступность
│   └── Отказоустойчивость
└── Сопровождаемость
    ├── Тестируемость
    └── Модифицируемость
\`\`\`

## Сценарии качества

### Сценарии производительности

**Сценарий 1: Время отклика при нормальной нагрузке**

| Аспект | Описание |
|--------|----------|
| Сценарий | Пользователь запрашивает данные при нормальной нагрузке |
| Источник | Конечный пользователь |
| Стимул | HTTP запрос к API |
| Среда | Нормальная работа, 100 одновременных пользователей |
| Ответ | Система возвращает данные |
| Мера | 95-й процентиль времени отклика < 200мс |

### Сценарии безопасности

**Сценарий 2: Попытка несанкционированного доступа**

| Аспект | Описание |
|--------|----------|
| Сценарий | Неавторизованный пользователь пытается получить доступ к защищенному ресурсу |
| Источник | Внешний злоумышленник |
| Стимул | HTTP запрос без действительного токена |
| Среда | Нормальная работа |
| Ответ | Система отказывает в доступе |
| Мера | Возвращает 401, логирует попытку, данные не раскрыты |

## Приоритизация требований к качеству

| Атрибут качества | Приоритет | Целевая мера |
|------------------|-----------|--------------|
| Доступность | Высокий | 99.9% uptime |
| Время отклика | Высокий | < 200мс (p95) |
| Безопасность | Критический | Ноль утечек данных |
`;
}

function getTechnicalRisksTemplate(): string {
  return `# 11. Риски и технический долг

**Цель**: Документировать известные проблемы, риски и технический долг.

## Риски

### Матрица оценки рисков

| Риск | Вероятность | Влияние | Серьезность | Статус |
|------|-------------|---------|-------------|--------|
| [Риск 1] | [Высокий/Средний/Низкий] | [Высокий/Средний/Низкий] | [Критический/Высокий/Средний/Низкий] | [Открыт/Смягчен] |

### Детальные риски

**Риск 1: [Название риска]**

- **Описание**: [Что такое риск]
- **Вероятность**: [Высокая/Средняя/Низкая]
- **Влияние**: [Высокое/Среднее/Низкое - и что произойдет]
- **Смягчение**: [Что мы делаем по этому поводу]
- **Аварийный план**: [План если риск реализуется]
- **Владелец**: [Кто отвечает]
- **Статус**: [Открыт/Смягчается/Закрыт]

## Технический долг

### Элементы долга

| Элемент | Тип | Влияние | Усилия | Приоритет |
|---------|-----|---------|--------|-----------|
| [Долг 1] | [Код/Архитектура/Тестирование] | [Высокий/Средний/Низкий] | [Дней] | [1-5] |

## Известные проблемы

| Проблема | Серьезность | Обходной путь | Целевая дата исправления |
|----------|-------------|---------------|--------------------------|
| [Проблема 1] | [Высокая/Средняя/Низкая] | [Если есть] | [Дата] |
`;
}

function getGlossaryTemplate(): string {
  return `# 12. Глоссарий

**Цель**: Определить важные бизнес- и технические термины для обеспечения единой терминологии.

## Бизнес-термины

| Термин | Определение |
|--------|-------------|
| [Бизнес-термин 1] | [Четкое, краткое определение] |
| [Бизнес-термин 2] | [Определение] |

## Технические термины

| Термин | Определение | Синонимы |
|--------|-------------|----------|
| [Технический термин 1] | [Определение] | [Альтернативные названия] |
| [Технический термин 2] | [Определение] | [Альтернативные названия] |

## Аббревиатуры и акронимы

| Аббревиатура | Полное название | Контекст |
|--------------|-----------------|----------|
| API | Application Programming Interface | [Когда/где используется] |
| SLA | Service Level Agreement | [Контекст] |
| JWT | JSON Web Token | [Использование] |

## Системные термины

| Термин | Определение | Пример |
|--------|-------------|--------|
| [Системный термин 1] | [Что это значит в этой системе] | [Пример использования] |

---

**Примечание**: Поддерживайте этот глоссарий актуальным по мере появления новых терминов.
`;
}

/**
 * Get the Russian workflow guide
 */
export function getWorkflowGuide(): string {
  return `# Руководство по документированию архитектуры arc42

## Обзор

Это руководство поможет вам документировать архитектуру программного обеспечения с использованием шаблона arc42.

## Доступные языки

Этот arc42 MCP Server поддерживает несколько языков для документации:

| Код | Язык | Родное название |
|-----|------|-----------------|
| EN | Английский | English |
| DE | Немецкий | Deutsch |
| RU | Русский | Русский |
| И другие... | | |

## Начало работы

### Шаг 1: Инициализация рабочего пространства

Используйте инструмент \`arc42-init\` для создания рабочего пространства документации:

\`\`\`
arc42-init(projectName: "Мой проект", language: "RU")
\`\`\`

### Шаг 2: Проверка статуса

Используйте \`arc42-status\` для просмотра текущего состояния документации.

### Шаг 3: Генерация шаблонов разделов

Используйте \`generate-template\` для получения детальных шаблонов для каждого раздела.

## 12 разделов arc42

1. **Введение и цели** - Начните здесь! Определите, что вы строите и почему.
2. **Ограничения архитектуры** - Что вам НЕ разрешено делать?
3. **Контекст и область** - Что внутри, а что снаружи?
4. **Стратегия решения** - Высокоуровневый подход к решению проблемы.
5. **Представление строительных блоков** - Статическая структура вашей системы.
6. **Представление времени выполнения** - Динамическое поведение и сценарии.
7. **Представление развертывания** - Как это развертывается и эксплуатируется?
8. **Сквозные концепции** - Паттерны, используемые во всей системе.
9. **Архитектурные решения** - Важные решения и их обоснование.
10. **Требования к качеству** - Конкретные сценарии качества.
11. **Риски и технический долг** - Что может пойти не так?
12. **Глоссарий** - Определите ваши термины.

## Лучшие практики

1. **Начните с раздела 1** - Понимание целей фундаментально
2. **Будьте краткими** - arc42 прагматичен, не бюрократичен
3. **Используйте диаграммы** - Картинка стоит тысячи слов
4. **Документируйте решения** - Ваше будущее "я" скажет вам спасибо
5. **Итерируйте** - Документация архитектуры никогда не "завершена"

## Ресурсы

- [Сайт arc42](https://arc42.org/)
- [Документация arc42](https://docs.arc42.org/)
`;
}

/**
 * Get the Russian README content
 */
export function getReadmeContent(projectName?: string): string {
  const name = projectName || 'Проект';
  return `# ${name} - Документация архитектуры

Этот каталог содержит документацию архитектуры для ${name}, основанную на шаблоне arc42.

## Структура

- \`sections/\` - Отдельные markdown-файлы разделов (12 разделов)
- \`images/\` - Диаграммы и изображения
- \`arc42-documentation.md\` - Основная объединенная документация
- \`config.yaml\` - Конфигурация

## 12 разделов arc42

1. **Введение и цели** - Требования, цели качества, заинтересованные стороны
2. **Ограничения архитектуры** - Технические и организационные ограничения
3. **Контекст и область** - Бизнес и технический контекст
4. **Стратегия решения** - Фундаментальные решения и стратегии
5. **Представление строительных блоков** - Статическая декомпозиция
6. **Представление времени выполнения** - Динамическое поведение
7. **Представление развертывания** - Инфраструктура и развертывание
8. **Сквозные концепции** - Общие правила и подходы
9. **Архитектурные решения** - Важные решения (ADR)
10. **Требования к качеству** - Дерево качества и сценарии
11. **Риски и технический долг** - Известные проблемы и риски
12. **Глоссарий** - Важные термины

## Начало работы

1. Начните с раздела 1: Введение и цели
2. Прорабатывайте разделы итеративно
3. Используйте диаграммы для иллюстрации концепций
4. Фокусируйтесь на решениях, а не на деталях реализации

## Ресурсы

- [Сайт arc42](https://arc42.org/)
- [Документация arc42](https://docs.arc42.org/)
`;
}
